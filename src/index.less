// - layout

html,
body {
  width: 100%;
  height: 100%;
  display: flex;
  overflow: clip;
  margin: 0;
}

canvas#rootcanvas {
  position: absolute;
}

#rootlayout {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif;

  #header {
    border-bottom: 1px solid #000;
  }
  .footer {
    border-top: 1px solid #000;
  }
  .sidebar_l {
    border-right: 1px solid #000;
  }
  o, btn, a {
    margin: auto 2px;
  }
}

#rootlayout { 
  display: flex;
  flex-direction: column;
  width: 100vw;
  height: 100vh;

  .hidden {
    display: none !important;
  }

  #header, .footer {
    height: 2em;
    display: flex;
    flex-direction: row;
    gap: 2px;
  }

  #scene_view, #assets_view, #dev_view {
    flex-grow: 1;
    display: grid;
    grid-template-columns: 20vw auto auto 10vw;
    grid-template-rows: minmax(0, 1fr) 2em;
    grid-template-areas: 
      "sidebar_l main main main"
      "sidebar_l footer footer footer";

      
    .sidebar_l {
      grid-area: sidebar_l;
    }
    .footer {
      grid-area: footer;
    }

    .view {
      grid-area: main;
    }
  }

}

page#assets_view page.sidebar_l {
  display: flex;
  flex-direction: column;
  padding: 8px;
}

#asset_details, #asset_create {
  // asset properties form
  form {
    display: flex;
    flex-direction: column;
    gap: 2px;

    label {
      display: flex;
      justify-content: space-between;
      input {
        width: 60%;
      }
    }

    [type=submit] {
      margin-top: 8px;
    }
  }

  // asset image container
  container#asset_preview_container {
    img {
      margin: auto;
      width: 70%;
      height: auto;
    }

    &.mode_canvas {
      img {
        display: none;
      }
    }
    display: flex;
    flex-grow: 1;
  }
}

#assets_view, #dev_view {
  overflow: hidden;
  .view {
    padding: 16px;
  }
  .view, .sidebar_l {
    overflow: auto;
  }
}

#assets_view tilegrid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;

  a {
    user-select: none;
    height: 80px;
    width: 256px;

    display: flex;
    flex-direction: column;

    &[id]::after {
      content: attr(id);
      font-size: 0.7em;
      color: gray;
    }
    &[data-name]::before {
      content: attr(data-name);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  }
}

// - styling

:root {
  --color-a: white;
  --color-b: black;
  --color-c: #aaa;
}

btn, .btn {
  cursor: pointer;
  padding: 4px;
  box-shadow: 0px -2px 0px inset #0005;
  border: 1px solid var(--color-c);
  text-decoration: none;
  color: var(--color-b);
  background-color: var(--color-a);
  border-radius: 4px;
}

splitter {
  margin: 2px;
  display: flex;
  gap: 8px;
  color: var(--color-c);
  &::before, &::after {
    background-color: var(--color-c);
    content: '';
    flex-grow: 1;
    height: 2px;
    border-radius: 2px;
    margin: auto;
  }
}

#assets_view tilegrid a {
  &:extend(btn);
}

input {
  &[type=file] {
    //..
  }
  &[type=submit] {
    &:extend(btn);
  }
}